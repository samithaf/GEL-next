# Node.js
# Build a general Node.js project with npm.
# Add steps that analyze code, save build artifacts, deploy, and more:
# https://docs.microsoft.com/azure/devops/pipelines/languages/javascript

trigger:
- main
stages:
- stage: prepare
  jobs:
  - job: run_prepare
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - task: Bash@3
      inputs:
        script: ls -a

#     - task: CopyFiles@2
#       displayName: 'Copy scripts'
#       inputs:
#         contents: 'scripts/**'
#         targetFolder: '$(Build.ArtifactStagingDirectory)'

#     - publish: '$(Build.ArtifactStagingDirectory)/scripts'
#       displayName: 'Publish script'
#       artifact: drop

# - stage: test
#   dependsOn: prepare
#   jobs:
#   - job: run_test
#     pool:
#       vmImage: 'ubuntu-latest'
#     steps:
#     - download: current
#       artifact: drop
#     - task: PowerShell@2
#       inputs:
#         filePath: '$(Pipeline.Workspace)\drop\test.ps1'
